CCS PCH C Compiler, Version 5.008, 5967               01-mai-20 16:32

               Filename:   C:\Users\robin\Documents\GitHub\ProjetElectronique2TIG8\CodeC\main.lst

               ROM used:   1722 bytes (5%)
                           Largest free fragment is 31042
               RAM used:   27 (2%) at main() level
                           87 (6%) worst case
               Stack used: 5 locations (2 in main + 3 for interrupts)
               Stack size: 31

*
0000:  GOTO   05E2
*
0008:  MOVWF  04
000A:  MOVFF  FD8,05
000E:  MOVFF  FE0,06
0012:  MOVLB  0
0014:  MOVFF  FE9,0C
0018:  MOVFF  FEA,07
001C:  MOVFF  FE1,08
0020:  MOVFF  FE2,09
0024:  MOVFF  FD9,0A
0028:  MOVFF  FDA,0B
002C:  MOVFF  FF3,12
0030:  MOVFF  FF4,13
0034:  MOVFF  FFA,14
0038:  MOVFF  00,0E
003C:  MOVFF  01,0F
0040:  MOVFF  02,10
0044:  MOVFF  03,11
0048:  BTFSS  F9D.5
004A:  GOTO   0054
004E:  BTFSC  F9E.5
0050:  GOTO   0256
0054:  MOVFF  0E,00
0058:  MOVFF  0F,01
005C:  MOVFF  10,02
0060:  MOVFF  11,03
0064:  MOVFF  0C,FE9
0068:  MOVFF  07,FEA
006C:  BSF    07.7
006E:  MOVFF  08,FE1
0072:  MOVFF  09,FE2
0076:  MOVFF  0A,FD9
007A:  MOVFF  0B,FDA
007E:  MOVFF  12,FF3
0082:  MOVFF  13,FF4
0086:  MOVFF  14,FFA
008A:  MOVF   04,W
008C:  MOVFF  06,FE0
0090:  MOVFF  05,FD8
0094:  RETFIE 0
.................... #include <main.h> 
.................... #include <18F458.h> 
.................... //////// Standard Header file for the PIC18F458 device //////////////// 
.................... #device PIC18F458 
0096:  CLRF   51
0098:  CLRF   52
009A:  MOVLW  01
009C:  MOVWF  53
009E:  CLRF   FDA
00A0:  CLRF   FD9
00A2:  CLRF   56
00A4:  MOVLW  49
00A6:  MOVWF  55
00A8:  CLRF   FEA
00AA:  MOVLW  4D
00AC:  MOVWF  FE9
00AE:  MOVFF  56,FE2
00B2:  MOVFF  55,FE1
00B6:  MOVFF  53,54
00BA:  BCF    FD8.0
00BC:  MOVF   FE5,W
00BE:  MULWF  FEE
00C0:  MOVF   FF3,W
00C2:  ADDWFC 51,F
00C4:  MOVF   FF4,W
00C6:  ADDWFC 52,F
00C8:  DECFSZ 54,F
00CA:  BRA    00BA
00CC:  MOVFF  51,FDE
00D0:  MOVFF  52,51
00D4:  CLRF   52
00D6:  BTFSC  FD8.0
00D8:  INCF   52,F
00DA:  INCF   55,F
00DC:  BTFSC  FD8.2
00DE:  INCF   56,F
00E0:  INCF   53,F
00E2:  MOVF   53,W
00E4:  SUBLW  05
00E6:  BNZ   00A8
00E8:  RETURN 0
*
0294:  MOVLW  8E
0296:  MOVWF  00
0298:  MOVFF  27,01
029C:  MOVFF  26,02
02A0:  CLRF   03
02A2:  MOVF   01,F
02A4:  BNZ   02B8
02A6:  MOVFF  02,01
02AA:  CLRF   02
02AC:  MOVLW  08
02AE:  SUBWF  00,F
02B0:  MOVF   01,F
02B2:  BNZ   02B8
02B4:  CLRF   00
02B6:  BRA    02C8
02B8:  BCF    FD8.0
02BA:  BTFSC  01.7
02BC:  BRA    02C6
02BE:  RLCF   02,F
02C0:  RLCF   01,F
02C2:  DECF   00,F
02C4:  BRA    02B8
02C6:  BCF    01.7
02C8:  GOTO   0442 (RETURN)
02CC:  MOVF   26,W
02CE:  BTFSC  FD8.2
02D0:  BRA    03B4
02D2:  MOVWF  00
02D4:  MOVF   2A,W
02D6:  BTFSC  FD8.2
02D8:  BRA    03B4
02DA:  ADDWF  00,F
02DC:  BNC   02E6
02DE:  MOVLW  81
02E0:  ADDWF  00,F
02E2:  BC    03B4
02E4:  BRA    02EE
02E6:  MOVLW  7F
02E8:  SUBWF  00,F
02EA:  BNC   03B4
02EC:  BZ    03B4
02EE:  MOVFF  27,2E
02F2:  MOVF   2B,W
02F4:  XORWF  2E,F
02F6:  BSF    27.7
02F8:  BSF    2B.7
02FA:  MOVF   29,W
02FC:  MULWF  2D
02FE:  MOVFF  FF4,30
0302:  MOVF   28,W
0304:  MULWF  2C
0306:  MOVFF  FF4,03
030A:  MOVFF  FF3,2F
030E:  MULWF  2D
0310:  MOVF   FF3,W
0312:  ADDWF  30,F
0314:  MOVF   FF4,W
0316:  ADDWFC 2F,F
0318:  MOVLW  00
031A:  ADDWFC 03,F
031C:  MOVF   29,W
031E:  MULWF  2C
0320:  MOVF   FF3,W
0322:  ADDWF  30,F
0324:  MOVF   FF4,W
0326:  ADDWFC 2F,F
0328:  MOVLW  00
032A:  CLRF   02
032C:  ADDWFC 03,F
032E:  ADDWFC 02,F
0330:  MOVF   27,W
0332:  MULWF  2D
0334:  MOVF   FF3,W
0336:  ADDWF  2F,F
0338:  MOVF   FF4,W
033A:  ADDWFC 03,F
033C:  MOVLW  00
033E:  ADDWFC 02,F
0340:  MOVF   27,W
0342:  MULWF  2C
0344:  MOVF   FF3,W
0346:  ADDWF  03,F
0348:  MOVF   FF4,W
034A:  ADDWFC 02,F
034C:  MOVLW  00
034E:  CLRF   01
0350:  ADDWFC 01,F
0352:  MOVF   29,W
0354:  MULWF  2B
0356:  MOVF   FF3,W
0358:  ADDWF  2F,F
035A:  MOVF   FF4,W
035C:  ADDWFC 03,F
035E:  MOVLW  00
0360:  ADDWFC 02,F
0362:  ADDWFC 01,F
0364:  MOVF   28,W
0366:  MULWF  2B
0368:  MOVF   FF3,W
036A:  ADDWF  03,F
036C:  MOVF   FF4,W
036E:  ADDWFC 02,F
0370:  MOVLW  00
0372:  ADDWFC 01,F
0374:  MOVF   27,W
0376:  MULWF  2B
0378:  MOVF   FF3,W
037A:  ADDWF  02,F
037C:  MOVF   FF4,W
037E:  ADDWFC 01,F
0380:  INCF   00,F
0382:  BTFSC  01.7
0384:  BRA    0390
0386:  RLCF   2F,F
0388:  RLCF   03,F
038A:  RLCF   02,F
038C:  RLCF   01,F
038E:  DECF   00,F
0390:  MOVLW  00
0392:  BTFSS  2F.7
0394:  BRA    03AA
0396:  INCF   03,F
0398:  ADDWFC 02,F
039A:  ADDWFC 01,F
039C:  MOVF   01,W
039E:  BNZ   03AA
03A0:  MOVF   02,W
03A2:  BNZ   03AA
03A4:  MOVF   03,W
03A6:  BNZ   03AA
03A8:  INCF   00,F
03AA:  BTFSC  2E.7
03AC:  BSF    01.7
03AE:  BTFSS  2E.7
03B0:  BCF    01.7
03B2:  BRA    03BC
03B4:  CLRF   00
03B6:  CLRF   01
03B8:  CLRF   02
03BA:  CLRF   03
03BC:  GOTO   0474 (RETURN)
03C0:  MOVF   26,W
03C2:  SUBLW  B6
03C4:  MOVWF  26
03C6:  CLRF   03
03C8:  MOVFF  27,2A
03CC:  BSF    27.7
03CE:  BCF    FD8.0
03D0:  RRCF   27,F
03D2:  RRCF   28,F
03D4:  RRCF   29,F
03D6:  RRCF   03,F
03D8:  RRCF   02,F
03DA:  RRCF   01,F
03DC:  RRCF   00,F
03DE:  DECFSZ 26,F
03E0:  BRA    03CE
03E2:  BTFSS  2A.7
03E4:  BRA    03FC
03E6:  COMF   00,F
03E8:  COMF   01,F
03EA:  COMF   02,F
03EC:  COMF   03,F
03EE:  INCF   00,F
03F0:  BTFSC  FD8.2
03F2:  INCF   01,F
03F4:  BTFSC  FD8.2
03F6:  INCF   02,F
03F8:  BTFSC  FD8.2
03FA:  INCF   03,F
03FC:  GOTO   0486 (RETURN)
*
04AA:  BTFSC  FD8.1
04AC:  BRA    04B4
04AE:  CLRF   FEA
04B0:  MOVLW  32
04B2:  MOVWF  FE9
04B4:  CLRF   00
04B6:  CLRF   01
04B8:  CLRF   02
04BA:  CLRF   03
04BC:  CLRF   32
04BE:  CLRF   33
04C0:  CLRF   34
04C2:  CLRF   35
04C4:  MOVF   31,W
04C6:  IORWF  30,W
04C8:  IORWF  2F,W
04CA:  IORWF  2E,W
04CC:  BZ    0526
04CE:  MOVLW  20
04D0:  MOVWF  36
04D2:  BCF    FD8.0
04D4:  RLCF   2A,F
04D6:  RLCF   2B,F
04D8:  RLCF   2C,F
04DA:  RLCF   2D,F
04DC:  RLCF   32,F
04DE:  RLCF   33,F
04E0:  RLCF   34,F
04E2:  RLCF   35,F
04E4:  MOVF   31,W
04E6:  SUBWF  35,W
04E8:  BNZ   04FA
04EA:  MOVF   30,W
04EC:  SUBWF  34,W
04EE:  BNZ   04FA
04F0:  MOVF   2F,W
04F2:  SUBWF  33,W
04F4:  BNZ   04FA
04F6:  MOVF   2E,W
04F8:  SUBWF  32,W
04FA:  BNC   051A
04FC:  MOVF   2E,W
04FE:  SUBWF  32,F
0500:  MOVF   2F,W
0502:  BTFSS  FD8.0
0504:  INCFSZ 2F,W
0506:  SUBWF  33,F
0508:  MOVF   30,W
050A:  BTFSS  FD8.0
050C:  INCFSZ 30,W
050E:  SUBWF  34,F
0510:  MOVF   31,W
0512:  BTFSS  FD8.0
0514:  INCFSZ 31,W
0516:  SUBWF  35,F
0518:  BSF    FD8.0
051A:  RLCF   00,F
051C:  RLCF   01,F
051E:  RLCF   02,F
0520:  RLCF   03,F
0522:  DECFSZ 36,F
0524:  BRA    04D2
0526:  MOVFF  32,FEF
052A:  MOVFF  33,FEC
052E:  MOVFF  34,FEC
0532:  MOVFF  35,FEC
0536:  RETURN 0
0538:  MOVF   FE9,W
053A:  MOVWF  22
053C:  MOVLW  3B
053E:  MOVWF  29
0540:  MOVLW  9A
0542:  MOVWF  28
0544:  MOVLW  CA
0546:  MOVWF  27
0548:  CLRF   26
054A:  MOVLW  0A
054C:  MOVWF  24
054E:  BSF    FD8.1
0550:  CLRF   FEA
0552:  MOVLW  1E
0554:  MOVWF  FE9
0556:  MOVFF  21,2D
055A:  MOVFF  20,2C
055E:  MOVFF  1F,2B
0562:  MOVFF  1E,2A
0566:  MOVFF  29,31
056A:  MOVFF  28,30
056E:  MOVFF  27,2F
0572:  MOVFF  26,2E
0576:  RCALL  04AA
0578:  MOVF   01,W
057A:  MOVF   00,F
057C:  BNZ   059C
057E:  MOVF   24,W
0580:  XORLW  01
0582:  BZ    059C
0584:  MOVF   22,W
0586:  BZ    059E
0588:  ANDLW  0F
058A:  SUBWF  24,W
058C:  BZ    0590
058E:  BC    05AC
0590:  BTFSC  22.7
0592:  BRA    05AC
0594:  BTFSC  22.6
0596:  BRA    059E
0598:  MOVLW  20
059A:  BRA    05A0
059C:  CLRF   22
059E:  MOVLW  30
05A0:  ADDWF  00,F
05A2:  MOVF   00,W
05A4:  CLRWDT
05A6:  BTFSS  F9E.4
05A8:  BRA    05A4
05AA:  MOVWF  FAD
05AC:  BCF    FD8.1
05AE:  MOVFF  29,2D
05B2:  MOVFF  28,2C
05B6:  MOVFF  27,2B
05BA:  MOVFF  26,2A
05BE:  CLRF   31
05C0:  CLRF   30
05C2:  CLRF   2F
05C4:  MOVLW  0A
05C6:  MOVWF  2E
05C8:  RCALL  04AA
05CA:  MOVFF  03,29
05CE:  MOVFF  02,28
05D2:  MOVFF  01,27
05D6:  MOVFF  00,26
05DA:  DECFSZ 24,F
05DC:  BRA    054E
05DE:  GOTO   0698 (RETURN)
....................  
.................... #list 
....................  
.................... #device adc=16 
....................  
.................... #FUSES NOWDT                    //No Watch Dog Timer 
.................... #FUSES WDT128                   //Watch Dog Timer uses 1:128 Postscale 
.................... #FUSES RC_IO                    //Resistor/Capacitor Osc 
.................... #FUSES NOOSCSEN                 //Oscillator switching is disabled, main oscillator is source 
.................... #FUSES NOPUT                    //No Power Up Timer 
.................... #FUSES NOBROWNOUT               //No brownout reset 
.................... //#FUSES BORV20                   //Brownout reset at 2.0V 
.................... #FUSES STVREN                   //Stack full/underflow will cause reset 
.................... #FUSES NOLVP                    //No low voltage prgming, B3(PIC16) or B5(PIC18) used for I/O 
.................... #FUSES NODEBUG                  //No Debug mode for ICD 
.................... #FUSES NOPROTECT                //Code not protected from reading 
.................... #FUSES NOCPB                    //No Boot Block code protection 
.................... #FUSES NOCPD                    //No EE protection 
.................... #FUSES NOWRT                    //Program memory not write protected 
.................... #FUSES NOWRTC                   //configuration not registers write protected 
.................... #FUSES NOWRTB                   //Boot block not write protected 
.................... #FUSES NOWRTD                   //Data EEPROM not write protected 
.................... #FUSES NOEBTR                   //Memory not protected from table reads 
.................... #FUSES NOEBTRB                  //Boot block not protected from table reads 
....................  
.................... #use delay(clock=20000000) 
*
026E:  CLRF   FEA
0270:  MOVLW  1F
0272:  MOVWF  FE9
0274:  MOVF   FEF,W
0276:  BZ    0292
0278:  MOVLW  06
027A:  MOVWF  01
027C:  CLRF   00
027E:  DECFSZ 00,F
0280:  BRA    027E
0282:  DECFSZ 01,F
0284:  BRA    027C
0286:  MOVLW  7B
0288:  MOVWF  00
028A:  DECFSZ 00,F
028C:  BRA    028A
028E:  DECFSZ FEF,F
0290:  BRA    0278
0292:  RETURN 0
.................... #use rs232(baud=9600,parity=N,xmit=PIN_C6,rcv=PIN_C7,bits=8,restart_wdt) 
....................  
....................  
.................... int32 lecture(void); 
.................... int32 dist(void); 
.................... int32 limite = 10; 
.................... #INT_RDA 
.................... void RDA_isr(void){ 
.................... limite = lecture(); 
*
0256:  BRA    00EA
0258:  MOVFF  03,19
025C:  MOVFF  02,18
0260:  MOVFF  01,17
0264:  MOVFF  00,16
0268:  BCF    F9E.5
026A:  GOTO   0054
.................... } 
.................... void main(){ 
*
05E2:  CLRF   FF8
05E4:  BCF    FD0.7
05E6:  BSF    07.7
05E8:  MOVLW  81
05EA:  MOVWF  FAF
05EC:  MOVLW  A6
05EE:  MOVWF  FAC
05F0:  MOVLW  90
05F2:  MOVWF  FAB
05F4:  CLRF   19
05F6:  CLRF   18
05F8:  CLRF   17
05FA:  MOVLW  0A
05FC:  MOVWF  16
05FE:  BSF    FC1.0
0600:  BSF    FC1.1
0602:  BSF    FC1.2
0604:  BCF    FC1.3
0606:  MOVLW  07
0608:  MOVWF  FB4
.................... output_high(PIN_B0); 
060A:  BCF    F93.0
060C:  BSF    F8A.0
.................... output_high(PIN_B1); 
060E:  BCF    F93.1
0610:  BSF    F8A.1
.................... #define toint(c) ((c & 0x5F) > '9' ? c - '7' : c - '0') //conversion d'un char en int (0,9) 
.................... setup_timer_0(RTCC_INTERNAL); // 409us (us = microseconde) overflow 
0612:  MOVLW  80
0614:  MOVWF  FD5
.................... setup_timer_1(T1_INTERNAL); //13,1 ms overflow 
0616:  MOVLW  85
0618:  MOVWF  FCD
.................... enable_interrupts(GLOBAL); 
061A:  MOVLW  C0
061C:  IORWF  FF2,F
.................... setup_low_volt_detect(FALSE); 
061E:  CLRF   FD2
.................... enable_interrupts(INT_RDA); 
0620:  BSF    F9D.5
.................... enable_interrupts(GLOBAL); 
0622:  IORWF  FF2,F
.................... delay_ms(100); //délai initialisation 
0624:  MOVLW  64
0626:  MOVWF  1F
0628:  RCALL  026E
.................... output_low(PIN_B0); 
062A:  BCF    F93.0
062C:  BCF    F8A.0
.................... output_low(PIN_B1); 
062E:  BCF    F93.1
0630:  BCF    F8A.1
.................... int32 distance=0; 
0632:  CLRF   1D
0634:  CLRF   1C
0636:  CLRF   1B
0638:  CLRF   1A
.................... while(true){ 
.................... distance = dist(); //calcul de la distance 
063A:  BRA    0400
063C:  MOVFF  03,1D
0640:  MOVFF  02,1C
0644:  MOVFF  01,1B
0648:  MOVFF  00,1A
.................... if(distance<limite){ //si la distance est assez grande 
064C:  MOVF   1D,W
064E:  SUBWF  19,W
0650:  BNC   0674
0652:  BNZ   066A
0654:  MOVF   1C,W
0656:  SUBWF  18,W
0658:  BNC   0674
065A:  BNZ   066A
065C:  MOVF   1B,W
065E:  SUBWF  17,W
0660:  BNC   0674
0662:  BNZ   066A
0664:  MOVF   16,W
0666:  SUBWF  1A,W
0668:  BC    0674
.................... output_low(PIN_B0); //si la sortie est basse led rouge 
066A:  BCF    F93.0
066C:  BCF    F8A.0
.................... output_high(PIN_B1); //si la sortie est haute led verte 
066E:  BCF    F93.1
0670:  BSF    F8A.1
.................... }else{ 
0672:  BRA    067C
.................... output_low(PIN_B1); //vérifie que la led verte est bien éteinte 
0674:  BCF    F93.1
0676:  BCF    F8A.1
.................... output_toggle(PIN_B0); //la led rouge clignote 
0678:  BCF    F93.0
067A:  BTG    F8A.0
.................... } 
.................... output_d(distance); 
067C:  CLRF   F95
067E:  MOVFF  1A,F8C
.................... printf("%lu\r\n",distance); //envoi du chiffre par le port Comm 
0682:  MOVLW  41
0684:  MOVWF  FE9
0686:  MOVFF  1D,21
068A:  MOVFF  1C,20
068E:  MOVFF  1B,1F
0692:  MOVFF  1A,1E
0696:  BRA    0538
0698:  MOVLW  0D
069A:  CLRWDT
069C:  BTFSS  F9E.4
069E:  BRA    069A
06A0:  MOVWF  FAD
06A2:  MOVLW  0A
06A4:  CLRWDT
06A6:  BTFSS  F9E.4
06A8:  BRA    06A4
06AA:  MOVWF  FAD
.................... delay_ms(300); 
06AC:  MOVLW  02
06AE:  MOVWF  1E
06B0:  MOVLW  96
06B2:  MOVWF  1F
06B4:  RCALL  026E
06B6:  DECFSZ 1E,F
06B8:  BRA    06B0
06BA:  BRA    063A
.................... } 
.................... } 
.................... int32 lecture(){ 
*
00EA:  CLRF   3F
00EC:  CLRF   3E
00EE:  CLRF   3D
00F0:  CLRF   3C
00F2:  CLRF   40
00F4:  CLRF   41
00F6:  MOVLW  01
00F8:  MOVWF  42
*
06BC:  SLEEP 
.................... char entre[5]; //buffer de cinq caractères 
.................... int32 sorti=0; 
.................... int i=0,x=0,y=1; //sorti=int voulu 
.................... gets(entre); //attend une chaîne de caractères finie par CR carriage return 
*
00FA:  CLRF   FEA
00FC:  MOVLW  37
00FE:  MOVWF  FE9
0100:  DECF   FE9,F
0102:  CLRWDT
0104:  BTFSS  F9E.5
0106:  BRA    0102
0108:  MOVFF  FAE,FEC
010C:  MOVLW  0D
010E:  SUBWF  FEF,W
0110:  BNZ   0102
0112:  CLRF   FEC
.................... for(x=0;x<5;x++){ //boucle lisant le buffer 
0114:  CLRF   41
0116:  MOVF   41,W
0118:  SUBLW  04
011A:  BNC   0136
.................... if(entre[x]=='\r'){break;} //quand le char == \r => fin du int 
011C:  CLRF   03
011E:  MOVF   41,W
0120:  ADDLW  37
0122:  MOVWF  FE9
0124:  MOVLW  00
0126:  ADDWFC 03,W
0128:  MOVWF  FEA
012A:  MOVF   FEF,W
012C:  SUBLW  0D
012E:  BTFSC  FD8.2
0130:  BRA    0136
0132:  INCF   41,F
0134:  BRA    0116
.................... } 
.................... for(i=x-1;i>0;i--){ //boucle traduisant les char en un int 
0136:  MOVLW  01
0138:  SUBWF  41,W
013A:  MOVWF  40
013C:  MOVF   40,F
013E:  BZ    01E4
.................... sorti+=toint(entre[i])*y; //la variable sorti est incrémentée du int* dizaine /centaine 
0140:  CLRF   03
0142:  MOVF   40,W
0144:  ADDLW  37
0146:  MOVWF  FE9
0148:  MOVLW  00
014A:  ADDWFC 03,W
014C:  MOVWF  FEA
014E:  MOVF   FEF,W
0150:  ANDLW  5F
0152:  SUBLW  39
0154:  BC    0172
0156:  CLRF   03
0158:  MOVF   40,W
015A:  ADDLW  37
015C:  MOVWF  FE9
015E:  MOVLW  00
0160:  ADDWFC 03,W
0162:  MOVWF  FEA
0164:  MOVLW  37
0166:  SUBWF  FEF,W
0168:  MOVWF  00
016A:  CLRF   01
016C:  CLRF   02
016E:  CLRF   03
0170:  BRA    018C
0172:  CLRF   03
0174:  MOVF   40,W
0176:  ADDLW  37
0178:  MOVWF  FE9
017A:  MOVLW  00
017C:  ADDWFC 03,W
017E:  MOVWF  FEA
0180:  MOVLW  30
0182:  SUBWF  FEF,W
0184:  MOVWF  00
0186:  CLRF   01
0188:  CLRF   02
018A:  CLRF   03
018C:  MOVFF  03,46
0190:  MOVFF  02,45
0194:  MOVFF  01,44
0198:  MOVFF  00,43
019C:  MOVFF  FEA,48
01A0:  MOVFF  FE9,47
01A4:  MOVFF  03,4C
01A8:  MOVFF  02,4B
01AC:  MOVFF  01,4A
01B0:  MOVFF  00,49
01B4:  CLRF   50
01B6:  CLRF   4F
01B8:  CLRF   4E
01BA:  MOVFF  42,4D
01BE:  RCALL  0096
01C0:  MOVFF  48,FEA
01C4:  MOVFF  47,FE9
01C8:  MOVF   00,W
01CA:  ADDWF  3C,F
01CC:  MOVF   01,W
01CE:  ADDWFC 3D,F
01D0:  MOVF   02,W
01D2:  ADDWFC 3E,F
01D4:  MOVF   03,W
01D6:  ADDWFC 3F,F
.................... y*=10; 
01D8:  MOVF   42,W
01DA:  MULLW  0A
01DC:  MOVFF  FF3,42
01E0:  DECF   40,F
01E2:  BRA    013C
.................... } 
.................... sorti+=toint(entre[0])*y; //la boucle ne veut pas se finir à zéro alors voilà :'( 
01E4:  MOVF   37,W
01E6:  ANDLW  5F
01E8:  SUBLW  39
01EA:  BC    01FA
01EC:  MOVLW  37
01EE:  SUBWF  37,W
01F0:  MOVWF  00
01F2:  CLRF   01
01F4:  CLRF   02
01F6:  CLRF   03
01F8:  BRA    0206
01FA:  MOVLW  30
01FC:  SUBWF  37,W
01FE:  MOVWF  00
0200:  CLRF   01
0202:  CLRF   02
0204:  CLRF   03
0206:  MOVFF  03,46
020A:  MOVFF  02,45
020E:  MOVFF  01,44
0212:  MOVFF  00,43
0216:  MOVFF  03,4C
021A:  MOVFF  02,4B
021E:  MOVFF  01,4A
0222:  MOVFF  00,49
0226:  CLRF   50
0228:  CLRF   4F
022A:  CLRF   4E
022C:  MOVFF  42,4D
0230:  RCALL  0096
0232:  MOVF   00,W
0234:  ADDWF  3C,F
0236:  MOVF   01,W
0238:  ADDWFC 3D,F
023A:  MOVF   02,W
023C:  ADDWFC 3E,F
023E:  MOVF   03,W
0240:  ADDWFC 3F,F
.................... return sorti; 
0242:  MOVFF  3C,00
0246:  MOVFF  3D,01
024A:  MOVFF  3E,02
024E:  MOVFF  3F,03
0252:  GOTO   0258 (RETURN)
.................... } 
.................... int32 dist(){ 
*
0400:  CLRF   21
0402:  CLRF   20
0404:  CLRF   1F
0406:  CLRF   1E
0408:  CLRF   25
040A:  CLRF   24
040C:  CLRF   23
040E:  CLRF   22
.................... float time=0; 
.................... int32 distance=0; 
.................... output_high(pin_b7); //début de l’impulsion sur le trigger de la sonde à ultrasons 
0410:  BCF    F93.7
0412:  BSF    F8A.7
.................... delay_us(20); 
0414:  MOVLW  20
0416:  MOVWF  00
0418:  DECFSZ 00,F
041A:  BRA    0418
041C:  BRA    041E
041E:  NOP   
.................... output_low(pin_b7); //fin de l’impulsion 
0420:  BCF    F93.7
0422:  BCF    F8A.7
.................... while(!input(PIN_b3)); //tant que la pin b3/canrx du PIC est à low => reliée au echo de la sonde 
0424:  BSF    F93.3
0426:  BTFSS  F81.3
0428:  BRA    0424
.................... set_timer1(0); //mise à zéro du timer 1 
042A:  CLRF   FCF
042C:  CLRF   FCE
.................... while(input(PIN_b3)); //tant que la pin b3/canrx du PIC est à high 
042E:  BSF    F93.3
0430:  BTFSC  F81.3
0432:  BRA    042E
.................... time=get_timer1(); //récupération du timer 
0434:  MOVF   FCE,W
0436:  MOVFF  FCF,03
043A:  MOVWF  26
043C:  MOVFF  FCF,27
0440:  BRA    0294
0442:  MOVFF  03,21
0446:  MOVFF  02,20
044A:  MOVFF  01,1F
044E:  MOVFF  00,1E
.................... distance = time*0.00344; //calcul de la distance 
0452:  MOVFF  21,29
0456:  MOVFF  20,28
045A:  MOVFF  1F,27
045E:  MOVFF  1E,26
0462:  MOVLW  9F
0464:  MOVWF  2D
0466:  MOVLW  71
0468:  MOVWF  2C
046A:  MOVLW  61
046C:  MOVWF  2B
046E:  MOVLW  76
0470:  MOVWF  2A
0472:  BRA    02CC
0474:  MOVFF  03,29
0478:  MOVFF  02,28
047C:  MOVFF  01,27
0480:  MOVFF  00,26
0484:  BRA    03C0
0486:  MOVFF  03,25
048A:  MOVFF  02,24
048E:  MOVFF  01,23
0492:  MOVFF  00,22
.................... return distance; 
0496:  MOVFF  22,00
049A:  MOVFF  23,01
049E:  MOVFF  24,02
04A2:  MOVFF  25,03
04A6:  GOTO   063C (RETURN)
.................... } 

Configuration Fuses:
   Word  1: 2700   RC_IO NOOSCSEN
   Word  2: 0E0D   NOPUT NOBROWNOUT BORV25 NOWDT WDT128
   Word  3: 0000  
   Word  4: 0081   STVREN NOLVP NODEBUG
   Word  5: C00F   NOPROTECT NOCPB NOCPD
   Word  6: E00F   NOWRT NOWRTC NOWRTB NOWRTD
   Word  7: 400F   NOEBTR NOEBTRB
